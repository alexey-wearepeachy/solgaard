<!-- /snippets/modal-compare.liquid -->
{%- assign show_compare_modal = false -%}

{%- if product.handle == 'homebase' and option.name == 'Solarbank' -%}
  {%- assign show_compare_modal = true -%}
  {%- assign popup_toggle_text = 'Compare Solarbanks' -%}
  {%- capture modal_content -%}
    <div class="grid__item">
      <div class="compare__body">
        <div class="image-wrapper">
          <img src="{{ 'compare-boombox-juicepack.gif' | asset_img_url: '800x' }}" />
        </div>
      </div>
    </div>
  {%- endcapture -%}
{%- elsif option.name == 'Solarbank'  -%}
  {%- assign show_compare_modal = true -%}
  {%- assign popup_toggle_text = 'Compare Solarbanks' -%}

  {%- assign modal_heading = 'What solarbank should I get?' -%}
  {%- assign modal_footer_text = '* Base on a full solarbank battery.' -%}

  {%- capture modal_content -%}
    {% for value in option.values %}
      {%- if value contains 'without Solarbank' -%}
        {%- continue -%}
      {%- endif -%}
      <div class="grid__item medium--one-half large--one-half">
        <div class="compare__body">
          <p class="compare__img">
            {%- case value -%}
              {%- when 'Lifepack w/ Solarbank' or 'Sling with Solarbank' -%}
                <img src="{{ 'compare-solarbank.jpg' | asset_img_url: '800x' }}" />
              {%- when 'Lifepack w/ Solarbank Boombox' or 'Sling with Solarbank Boombox' -%}
                <img src="{{ 'compare-solarbank-boombox.jpg' | asset_img_url: '800x' }}" />
            {%- endcase -%}
          </p>

          <h4 class="compare__variant-title h3">
            {%- case value -%}
              {%- when 'Lifepack w/ Solarbank' or 'Sling with Solarbank' -%}
                Solarbank
              {%- when 'Lifepack w/ Solarbank Boombox' or 'Sling with Solarbank Boombox' -%}
                Solarbank Boombox
            {%- endcase -%}
          </h4>

          <p class="compare__variant-price hide">
            {%- for variant in product.variants -%}
              {%- if variant.option1 == value -%}
                <span
                 data-option1="{{ variant.option1 | escape }}"
                 data-option2="{{ variant.option2 | escape }}"
                 data-varaint-id="{{ variant.id }}">{{ variant.price | money_without_trailing_zeros }}</span>
                 {%- break -%}
              {%- endif -%}
            {%- endfor -%}
          </p>

          <ul class="compare__features">
            {%- case value -%}
              {%- when 'Lifepack w/ Solarbank' or 'Sling with Solarbank' -%}
                <li>10,000 mAh battery</li>
                <li>Up to 5 phone charges*</li>
                <li>4 hrs of sun = 1 phone charge</li>
                <li>Can charge phone / Macbook with USB-C</li>
              {%- when 'Lifepack w/ Solarbank Boombox' or 'Sling with Solarbank Boombox' -%}
                <li>10,000 mAh battery</li>
                <li>5 phone charges or 90 hours of music*</li>
                <li>4 hrs of sun = 1 phone charge</li>
                <li>1 hr of sun = 2hrs of music</li>
            {%- endcase -%}
          </ul>

          <p class="compare__icons">
            {%- case value -%}
              {%- when 'Lifepack w/ Solarbank' or 'Sling with Solarbank' -%}
                <img src="{{ 'compare-solarbank-icons.png' | asset_img_url: '800x' }}" />
              {%- when 'Lifepack w/ Solarbank Boombox' or 'Sling with Solarbank Boombox' -%}
                <img src="{{ 'compare-solarbank-boombox-icons.png' | asset_img_url: '800x' }}" />
            {%- endcase -%}
          </p>

          <p>
            <a
             href="#"
             class="btn btn--black btn--large btn--full"
             data-value="{{ value | escape }}"
             compare-modal-shop>Shop Now</a>
          </p>
        </div>
      </div>
    {% endfor %}
  {%- endcapture -%}
{%- endif -%}


{% if product.type == 'Suitcase' and option.name == 'Size' %}
  {%- assign show_compare_modal = true -%}
  {%- assign popup_toggle_text = 'Compare Sizes' -%}

  {%- assign modal_heading = 'What size should I get?' -%}
  {%- assign modal_footer_text = '' -%}

  {%- capture modal_content -%}
    {% for value in option.values %}
      <div class="grid__item medium--one-half large--one-half">
        <div class="compare__body">
          <p class="compare__img">
            {%- case value -%}
              {%- when 'Carry-On Closet' -%}
                <img src="{{ 'compare-carry-on-closet.jpg' | asset_img_url: '800x' }}" />
              {%- when 'Carry-On Closet Plus' -%}
                <img src="{{ 'compare-carry-on-closet-plus.jpg' | asset_img_url: '800x' }}" />
            {%- endcase -%}
          </p>

          <h4 class="compare__variant-title h3">
           {{ value }}
          </h4>

          <p class="compare__variant-price">
            {%- for variant in product.variants -%}
              {%- if variant.option1 == value -%}
                <span
                 data-option1="{{ variant.option1 | escape }}"
                 data-option2="{{ variant.option2 | escape }}"
                 data-varaint-id="{{ variant.id }}">{{ variant.price | money_without_trailing_zeros }}</span>
                 {%- break -%}
              {%- endif -%}
            {%- endfor -%}
          </p>

          <p class="compare__features">
            {%- case value -%}
              {%- when 'Carry-On Closet' -%}
                Guaranteed to be accepted as carry-on for all major airlines.<br><br>
              {%- when 'Carry-On Closet Plus' -%}
                A large carry-on, approved for 90% of international airlines and almost all US Domestic airlines.
            {%- endcase -%}
          </p>

          <p class="compare__icons">
            {%- case value -%}
              {%- when 'Carry-On Closet' -%}
                <img src="{{ 'compare-carry-on-closet-icons.png' | asset_img_url: '800x' }}" />
              {%- when 'Carry-On Closet Plus' -%}
                <img src="{{ 'compare-carry-on-closet-plus-icons.png' | asset_img_url: '800x' }}" />
            {%- endcase -%}
          </p>

          <p>
            <a
             href="#"
             class="btn btn--black btn--large btn--full"
             data-value="{{ value | escape }}"
             compare-modal-shop>Shop Now</a>
          </p>
        </div>
      </div>
    {% endfor %}
  {%- endcapture -%}
{% endif %}



{%- if show_compare_modal -%}
  <a
   class="product__popup-toggle"
   data-mfp-src="#CompareModal-{{ option.name | handle }}-{{ section.id }}"
   compare-modal-toggle>
    <span class="product__popup-toggle__icon" style="width:18px;">{% include 'icon-compare-plus' %}</span>
    <span class="product__popup-toggle__text">{{ popup_toggle_text }}</span>
  </a>

  <div
   id="CompareModal-{{ option.name | handle }}-{{ section.id }}"
   class="modal modal--product modal--compare mfp-hide">
    {%- unless modal_heading == blank -%}
      <h2 class="compare__heading text-center h1">{{ modal_heading }}</h2>
    {%- endunless -%}

    <div class="grid">
      {{ modal_content }}
    </div>

    {%- unless modal_footer_text == blank -%}
      <p class="text-center">{{ modal_footer_text }}</p>
    {%- endunless -%}
  </div>
{%- endif -%}
